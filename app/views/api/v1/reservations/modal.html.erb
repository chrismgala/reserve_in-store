<div class="modal" id="reserveInStore-modal">
  <div class="modal-content" id="reserveInStore-modal-content">
    <div class="modal-header" id="reserveInStore-modal-header">
      <span class="close" id="reserveInStore-close-modal">&times;</span>
      <h4 class="modal-title" id="reserveInStore-modal-title"><%= @store.top_msg %><br>
        <% if @product_title.present? %>
         Thank you for reserving product
          <% if @variant_title.present? %>
            <%= @variant_title %>
          <% end %>
          <%= @product_title %> in store.
        <% end %>
      </h4>
    </div>
    <div class="modal-body" id="reserveInStore-modal-body">
<!--      TODO This looks like a Javascript feature, if I leave the form alone, the surrounding form tag-->
<!--      will be stripped-->
      <form></form>
      <%= form_for :reservation, html: {id: 'reserveInStore-reservation-form'} do |f| %>
        <%= f.label :location %>
        <% if @store.locations.count == 1  %>
          <%= f.hidden_field :location_id, :value => @store.locations.first.id %>
          <%= f.text_field :location_name, :value => @store.locations.first.name, readonly: true %>
        <% else %>
          <%= f.select :location_id, @store.locations.collect {|p| [p.name, p.id]}, {include_blank: true}, required: true %>
        <% end %>

        <%= f.label :name %>
        <%= f.text_field :customer_name, required: true %>

        <%= f.label :email %>
        <%= f.text_field :customer_email, required: true %>

        <%= f.label :phone %>
        <%= f.text_field :customer_phone %>

        <%= f.label 'Questions/Comments' %>
        <%= f.text_field :comments %>
      <% end %>

    </div>

    <div class="modal-footer" id="reserveInStore-modal-footer">
      <button type="button" class="btn" id="reserveInStore-submit-modal">Reserve</button>
    </div>
  </div>
</div>

