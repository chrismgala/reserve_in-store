<div class="modal reserveInStore-modal-background">
    <div class="reserveInStore-reserve-modal">

        <header>
            <span class="close reserveInStore-reserve-close">×</span>
            <h2 class="ris-main-header">Reserve In-store</h2>
            <p class="ris-instruction">{{ settings.top_msg }}</p>
            <ul class="reserveInStore-error-ul" style="display:none;"></ul>
        </header>

        <form class="reserveInStore-reservation-form" action="https://app.reserveinstore.com/api/v1/reservations/modal" accept-charset="UTF-8" data-remote="true" method="post">
            <input name="utf8" type="hidden" value="✓"/>
            <section class="ris-columns">

                <div class="ris-column">
                    <h2 class="ris-header-text">1. SELECT A LOCATION:</h2>
                    {% for location in locations %}
                    <div class="ris-location-block">
                        <input type="radio" value="{{ location.id }}"
                               name="reservation[location.id]"
                               id="reservation_location.id_{{ location.id }}"  {% if location.id != 0 %}required{% endif %}>
                        <label class="ris-location-label"
                               for="reservation_location.id_{{ location.id }}">
                            {{ location.name }}
                        </label>
                        <div class="ris-view-on-map">
                            <img class="img-responsive" src="{{ cdn_url }}map_pin.png">
                            <a href="{{ location.google_map_url }}" target="_blank">View on map</a>
                        </div>
                        <div class="ris-location-description">
                            <div class="ris-row">
                                <p>{{ location.address }}<br>
                                    {{ location.formatted_address }}<br>
                                    {{ location.country }}</p>
                            </div>
                            {{ location.custom_html }}
                        </div>
                    </div>
                    {% endfor %}
                </div>

                <div class="ris-column">
                    <h2 class="ris-header-text">2. ENTER YOUR CONTACT INFO</h2>
                    <div class="ris-contact-field">
                        <label for="reservation_customer_email">Your Email</label>
                        <input required="required" type="email" name="reservation[customer_email]" id="reservation_customer_email" />
                    </div>

                    <div class="ris-contact-field">
                        <label for="reservation_customer_name">Your Name</label>
                        <input required="required" type="text" name="reservation[customer_name]" id="reservation_customer_name" />
                    </div>

                    {% if settings.show_phone %}
                    <div class="ris-contact-field">
                        <label for="reservation_customer_phone">Your Contact Number</label>
                        <input required="required" type="text" name="reservation[customer_phone]" id="reservation_customer_phone" />
                    </div>
                    {% endif %}

                    {% if settings.show_instructions_from_customer %}
                    <div class="ris-contact-field">
                        <label for="reservation_instructions_from_customer">Pick-up Date & Time</label>
                        <input required="required" type="text" name="reservation[instructions_from_customer]" id="reservation_instructions_from_customer" />
                    </div>
                    {% endif %}
                </div>

                <div class="ris-column" style="width: 100%">
                    <h2 class="ris-header-text">3. CONFIRM YOUR RESERVATION</h2>

                    {% for item in line_items %}
                    <div class="ris-product-detail">
                        <div class="ris-product-price">{{ item.price }}</div>
                        <div>
                            <p class="ris-text-large">{{ item.title }}</p>

                            {% if item.variant_title and item.variant_title != 'Default Title' %}
                                <p class="ris-text-small">{{ item.variant_title }}</p>
                            {% endif %}

                        </div>
                    </div>
                    {% endfor %}

                    <p>You will receive a confirmation email after you submit your reservation.</p>
                    <button type="button" class="reserveInStore-form-submit">Reserve now</button>
                    <br>
                    {{ settings.faq }}
                </div>

            </section>
        </form>
    </div>

    <div class="reserveInStore-success-modal reserveInStore-center" style="display: none;">
        <div class="reserveInStore-modal-icon">
            <span class="reserveInStore-center">✔</span>
        </div>
        <h1>Success!</h1>
        <p>{{ settings.success_msg }}<br>
            A confirmation email has been sent to you.</p>
        <button type="button" class="btn reserveInStore-success-close">Ok</button>
    </div>
</div>

