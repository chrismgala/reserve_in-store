<!--not sure what to set to-->
<!--leave it here for now-->
<% content_for :javascript do %>
  <script type="text/javascript">
      ShopifyApp.ready(function(){
          ShopifyApp.Bar.initialize({ title: "Home" });
      });
  </script>
<% end %>
<!--END-->

<% if @locations.any? %>
  <p>
    Showing <%= pluralize(@locations.count, 'location') %>.
  </p>
  <table class="table table-responsive table-striped">
    <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Address</th>
      <th>Country</th>
      <th>State</th>
      <th>City</th>
      <th>Email</th>
      <th>Phone</th>
      <th></th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    <% @locations.each do |location| %>
      <tr>
        <td><%= location.id %></td>
        <td><%= location.name %></td>
        <td><%= location.address %></td>
        <td><%= location.country %></td>
        <td><%= location.state %></td>
        <td><%= location.city %></td>
        <td><%= location.email %></td>
        <td><%= location.phone %></td>
        <td>
          <%= link_to 'Edit', edit_location_path(location), class: 'btn btn-info btn-xs', remote: true %>
        </td>
        <td>
          <%= link_to 'Delete', location, method: :delete, class: 'btn btn-danger btn-xs', data: { confirm: "Are you sure? Deleting this location will also delete all its reservations." } %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>

  <%= paginate @locations %>

<% else %>
<p>
  You haven't add any location yet.
</p>
<% end %>

<!--Edit Modal-->
<div id="edit_location_modal"></div>

<!-- Button trigger modal-->
<button class="btn btn-success btn-xs" data-toggle="modal" data-target="#locationModal">
  Add New Location
</button>

<!-- Modal -->
<%= render partial: 'modal', locals: { id: 'locationModal', action: 'New', location: :location }   %>
