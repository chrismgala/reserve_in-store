
  <div class="Polaris-Banner Polaris-Banner--statusCritical Polaris-Banner--hasDismiss Polaris-Banner--withinPage store-error-banner-spacing instoreReserver-status-banner" tabindex="0" role="alert" aria-live="polite" aria-labelledby="Banner12Heading" aria-describedby="Banner12Content">
    <div class="Polaris-Banner__Dismiss">
      <button type="button" class="Polaris-Button Polaris-Button--plain Polaris-Button--iconOnly" aria-label="Dismiss notification" id="error_banner_close">
        <span class="Polaris-Button__Content"><span class="Polaris-Button__Icon"><span class="Polaris-Icon"><svg class="Polaris-Icon__Svg" viewBox="0 0 20 20" focusable="false" aria-hidden="true"><path d="M11.414 10l4.293-4.293a.999.999 0 1 0-1.414-1.414L10 8.586 5.707 4.293a.999.999 0 1 0-1.414 1.414L8.586 10l-4.293 4.293a.999.999 0 1 0 1.414 1.414L10 11.414l4.293 4.293a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L11.414 10z" fill-rule="evenodd"></path></svg></span></span></span>
      </button>
    </div>
    <div class="Polaris-Banner__Ribbon">
      <span class="Polaris-Icon Polaris-Icon--colorRedDark Polaris-Icon--isColored Polaris-Icon--hasBackdrop"><svg class="Polaris-Icon__Svg" viewBox="0 0 20 20" focusable="false" aria-hidden="true"><g fill-rule="evenodd"><circle fill="currentColor" cx="10" cy="10" r="9"></circle><path d="M2 10c0-1.846.635-3.543 1.688-4.897l11.209 11.209A7.954 7.954 0 0 1 10 18c-4.411 0-8-3.589-8-8m14.312 4.897L5.103 3.688A7.954 7.954 0 0 1 10 2c4.411 0 8 3.589 8 8a7.952 7.952 0 0 1-1.688 4.897M0 10c0 5.514 4.486 10 10 10s10-4.486 10-10S15.514 0 10 0 0 4.486 0 10"></path></g></svg></span>
    </div>
    <div>
      <div class="Polaris-Banner__Heading" id="Banner12Heading">
        <p class="Polaris-Heading">
          <% if params[:activation] == "failed" %>
            In-Store Reserver app could not be activated due to below error.
          <% else %>
            In-Store Reserver app could not be deactivated due to below error.
          <% end %>
        </p>
      </div>
      <p class="Polaris-Banner__Content" id="Banner12Content">
        <%
          success_icon = '<span class="Polaris-Icon Polaris-Icon--colorInkDarker inStore-reserver-icon-container"><svg class="inStore-reserver-svg inStore-reserver-svg-success" aria-hidden="true" focusable="false"
data-prefix="far" data-icon="check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg="">
<path fill="currentColor" d="M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z">
</path></svg></span>'

          failed_icon = '<span class="Polaris-Icon Polaris-Icon--colorInkDarker inStore-reserver-icon-container">
                  <svg viewBox="0 0 20 20" class="Polaris-Icon__Svg inStore-reserver-svg inStore-reserver-svg-failed" focusable="false" aria-hidden="true">
                    <path d="M11.414 10l6.293-6.293a.999.999 0 1 0-1.414-1.414L10 8.586 3.707 2.293a.999.999 0 1 0-1.414 1.414L8.586 10l-6.293 6.293a.999.999 0 1 0 1.414 1.414L10 11.414l6.293 6.293a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L11.414 10z" fill-rule="evenodd"></path>
                  </svg>
                </span>'
        %>

        <% if params[:activation] == "failed" %>
          <div class="status-banner-info">
            <% if store.integrator.footer_script_included? %>
              <%= success_icon.html_safe %> Footer code: layout/theme.liquid
            <% else %>
              <%= failed_icon.html_safe %>Footer code: layout/theme.liquid
            <% end %>
          </div>

          <div class="status-banner-info">
            <% if store.integrator.snippet_footer_code_found? %>
              <%= success_icon.html_safe %>Snippet: snippets/reserveinstore_footer.liquid
            <% else %>
              <%= failed_icon.html_safe %>Snippet: snippets/reserveinstore_footer.liquid
            <% end %>
          </div>

          <p>
            <div class="Polaris-SettingAction__Action">
              <button class="btn-activate Polaris-Button Polaris-Button--primary Polaris-Button--sizeLarge Polaris-Button--success">
               ACTIVATE
            </button>
            </div>.
          </p>
        <% else %>
          <div class="status-banner-info">
            Footer script is still included in your store theme. In-Store Reserver app could not be deactivated.
          </div>

          <p>
            <div class="Polaris-SettingAction__Action">
              <button class="btn-deactivate Polaris-Button Polaris-Button--destructive">
                DEACTIVATE
              </button>
            </div>
          </p>
        <% end %>
      </div>
    </div>
  </div>
  <% content_for :javascript do %>
    <script>
        $('#error_banner_close').click(function () {
            $('#error_banner').remove();
        });

        $('.btn-activate').on('click', function(e) {
            e.preventDefault();
            $('#activationModal').show();
        });

        $('.btn-deactivate').on('click', function(e) {
            e.preventDefault();
            $('#deactivationModal').show();
        });
    </script>
  <% end %>
